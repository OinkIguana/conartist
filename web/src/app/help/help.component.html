<ng-container *ngIf="visible">
  <svg (click)="visible = false" conAbsoluteViewbox>
    <defs>
      <marker id="arrowhead" viewBox="0 0 10 10" refX="10" refY="5" markerWidth="10" markerHeight="10" orient="auto">
        <path d="M 0 0 L 10 5 L 0 10" />
      </marker>
    </defs>
    <svg:g *ngFor="let outline of outlines">
      <ng-container [ngSwitch]="outline.type">
        <svg:rect
          *ngSwitchCase="'rectangle'"
          [attr.x]="outline.x"
          [attr.y]="outline.y"
          [attr.width]="outline.width"
          [attr.height]="outline.height" />
        <svg:rect
          *ngSwitchCase="'round-rectangle'"
          [attr.x]="outline.x"
          [attr.y]="outline.y"
          [attr.width]="outline.width"
          [attr.height]="outline.height"
          rx="15"
          ry="15" />
        <svg:ellipse
          *ngSwitchCase="'ellipse'"
          [attr.cx]="outline.x"
          [attr.cy]="outline.y"
          [attr.rx]="outline.rx"
          [attr.ry]="outline.ry" />
      </ng-container>
    </svg:g>
    <svg:g *ngFor="let text of texts">
      <svg:text [attr.x]="text.x" [attr.y]="text.y" [ngClass]="text.className">
        {{ text.text }}
      </svg:text>
    </svg:g>
    <svg:g *ngFor="let arrow of arrows">
      <svg:path [attr.d]="arrow.d" marker-end="url(#arrowhead)" class="arrow" />
    </svg:g>
  </svg>
</ng-container>
