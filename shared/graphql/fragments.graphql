fragment UserFragment on User {
  name
  email
  settings { 
    ...SettingsFragment 
  }
  conventions {
    ...MetaConventionFragment
  }
}

fragment ProductTypeFragment on ProductType {
  id
  name
  color
  discontinued
}

fragment ProductFragment on ProductInInventory {
  id
  typeId
  name
  quantity
  discontinued
}

fragment PriceRowFragment on PriceRow {
  index
  typeId
  productId
  quantity
  price
}

fragment ConventionBasicInfoFragment on FullUserConvention {
  id
  name
  images
  start
  end
}

fragment MetaConventionFragment on FullUserConvention {
  ...ConventionBasicInfoFragment
  extraInfo {
    ...ExtraInfoFragment
  }
  userInfo {
    ...UserInfoFragment
  }
}

fragment RecordFragment on Record {
  id
  products
  price
  time
  info
}

fragment ExpenseFragment on Expense {
  id
  category
  description
  price
  time
}

fragment ExtraInfoFragment on ConventionExtraInfo {
  title
  info
  action
  actionText
}

fragment UserInfoFragment on ConventionUserInfo {
  id
  info
  ...VotesFragment
}

fragment VotesFragment on ConventionUserInfo {
  upvotes
  downvotes
}

fragment FullConventionFragment on FullUserConvention {
  ...MetaConventionFragment
  products(includeAll: true) { ...ProductFragment }
  productTypes { ...ProductTypeFragment }
  prices(includeAll: true) { ...PriceRowFragment }
  records { ...RecordFragment }
  expenses { ...ExpenseFragment }
}

fragment SettingsFragment on Settings {
  currency
}
