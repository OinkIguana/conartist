#import "./schema.graphql"

fragment UserFragment on User {
  name
  email
  settings { 
    ...SettingsFragment 
  }
  conventions {
    ...MetaConventionFragment
  }
}

fragment ProductTypeFragment on ProductType {
  id
  name
  color
  discontinued
}

fragment ProductFragment on Product {
  id
  typeId
  name
  quantity
  discontinued
}

fragment PriceFragment on Price {
  priceId
  typeId
  productId
  quantity
  price
}

fragment ConventionImageFragment on ConventionImage {
  id
}

fragment ConventionBasicInfoFragment on Convention {
  id
  name
  images {
    ...ConventionImageFragment
  }
  start
  end
  extraInfo {
    ...ExtraInfoFragment
  }
  userInfo {
    ...UserInfoFragment
  }
}

fragment MetaConventionFragment on Convention {
  ...ConventionBasicInfoFragment
  recordTotal
  expenseTotal
}

fragment RecordFragment on Record {
  id
  products
  price
  time
  info
}

fragment ExpenseFragment on Expense {
  id
  category
  description
  price
  time
}

fragment ExtraInfoFragment on ConventionExtraInfo {
  title
  info
  action
  actionText
}

fragment UserInfoFragment on ConventionUserInfo {
  id
  info
  vote
  ...VotesFragment
}

fragment VotesFragment on ConventionUserInfo {
  upvotes
  downvotes
}

fragment FullConventionFragment on Convention {
  ...MetaConventionFragment
  products { ...ProductFragment }
  productTypes { ...ProductTypeFragment }
  prices { ...PriceFragment }
  records { ...RecordFragment }
  expenses { ...ExpenseFragment }
}

fragment SettingsFragment on Settings {
  currency
}
